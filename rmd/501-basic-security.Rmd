# Linux 安全基础知识 {#chap:basic-security}

通过阅读本章，你将会了解到以下几项内容。

- 深度系统如何跟Windows系统共享文件、打印机；
- bash进行判断和简单数学计算
- bash 的流程结构
- 实现把UC视频缓存变为普通视频文件的脚本

安全是Linux系统的重要组成部分，也是Linux系统使用时的重要注意事项。毛泽东军事思想告诉我们，决定战争胜利最重要的因素是人，决定系统是否安全最重要的因素也是人。顾基发提出的“物事人”的系统方法论，用来分析安全，则应该从“物事人”这三个方面认识安全。本章主要讲作为人，应到了解的安全方法和理念。

## 安全常识

### 物理防护

说到物理防护，就是不能让别人把我们的网给剪断了，电脑给搬走了。比如，

- 下班后办公室必须锁门；
- 张贴非授权人员不得入内等标语；
- 服务器机房安装视频监控和警报系统，只允许特定时间特定人员访问；
- Windows 电脑设置三层密码（BIOS、syskey、Windows三层密码），深度deepin可以设置两层密码（BIOS、Login两层密码）；
- 全部门设置同样的提醒安全的桌面和提醒安全的屏保；
- 自动屏保的时间不能过长，再次唤醒比如输入密码；
- 桌面上除了当前正在操作的文件，不允许存放其他任何文件；
- 每天工作结束，文件必须保存备份到服务器，设置为只读模式，不允许其他人擅自修改文件。

### 灾后恢复

虽然自己的电脑使用的是深度deepin系统，但是办公时，还必须是windows 7系统。win7蓝屏，中病毒的频率太高了，不能指望微软再维护该系统了，也不指望360能清除甚至预防病毒，更不指望单位给换台新电脑，只有立足自身，建立私有网盘（参见本书第\@ref(chap:ftp-server-intro:seafile)节），随时备份自己的文件，以应对随时可能的蓝屏和死机。当然深度系统，也不是不会出现灾难，万一你一不小心执行了一句`# rm -rf /`呢？一下子把系统整崩溃了。

对于灾难，重在预防。预防的思路大致如下。

- 哪些要备份？
- 备份在哪里？
- 要存档多久？
- 存盘怎么用？

根据重要性确定哪些资料要备份后，对于普通的文件可以备份三份到不同的地方。特别重要的文件可以多备份几份。以我单位为例，本地电脑上有一份存档，使用seafile服务器随时同步一份文档，在文件服务器上每天结束也备份了一个版本。每年对重要的数据，还会刻光盘存储，有效期十年。

备份的话，最好要有一个不在本地电脑上，比如某个服务器，或者多个服务器上，避免自己的电脑崩溃，啥东西都找不回来了。另外，也可以使用不同的操作系统的服务器，我办公使用的win7操作系统，文件服务器为Linux centos的，这样本地电脑的病毒，一般还不至于把服务器也给感染了。算是一种防护吧。

存档时间长短，根据实际需要吧。比如我单位每天晚上都要备份一次，部分同事嫌麻烦，私自决定每周备份一次。部门的规章制度要求重要数据每年备份一次，备份时间为十年。我觉得这个已经够长了。

对于存档，大家都懂得，不停的存，早晚把空间占满。就像行车记录仪，录像要时刻保持半个小时的内容，对于时间太长的旧内容就可以覆盖掉了。存盘（光盘除外）也一样，循环反复利用磁盘，就可以设定一下对于多长时间的资料可以删除了，给新的版本腾出空间。

常用的备份软件如下。
